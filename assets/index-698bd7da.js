import{r,a as s,j as _}from"./index-a1969aff.js";import{L as y}from"./index-880ca017.js";import{R as b}from"./index-48005f6a.js";import{T as C}from"./index-fa7f6835.js";import{S as k}from"./index-3a50635f.js";const N="_page_5w9do_1",D="_card_5w9do_7",R="_card_header_5w9do_16",I="_card_body_5w9do_21",O="_select_5w9do_30",P="_ranges_5w9do_35",T="_buttons_5w9do_42",j="_textarea_5w9do_60",n={page:N,card:D,card_header:R,card_body:I,select:O,ranges:P,buttons:T,textarea:j},m=window.speechSynthesis,L=()=>new Promise(c=>{const e=setInterval(()=>{m.getVoices().length!==0&&(c(m.getVoices()),clearInterval(e))},100)}),q=()=>{const c=r.useRef(null),[e,g]=r.useState([]),[f,p]=r.useState(null),[i,h]=r.useState({rate:1,pitch:1}),[o,l]=r.useState(!1),t=new SpeechSynthesisUtterance;t.onend=()=>l(!1);const S=()=>{c.current.value&&(t.text=c.current.value,t.voice=f,t.rate=i.rate,t.pitch=i.pitch,l(!0),m.speak(t))},v=()=>{m.cancel(),l(!1)},x=d=>{e.length&&(m.cancel(),l(!1),p(e.find(u=>u.name===d)))};return r.useEffect(()=>{(async()=>{const w=(await L()).filter(a=>!a.name.toLowerCase().includes("google")).map((a,V)=>(a.key=V,a.value=a.name,a.optionName=`${a.name} ${a.lang}`,a));g(w)})()},[]),s(y,{baseClassName:n.page,children:_("div",{className:n.card,children:[s(C,{title:"Word to Speech",titleClassName:n.card_header,size:"s"}),_("div",{className:n.card_body,children:[s(k,{name:"voice",options:e,selectClass:n.select,onChange:x}),_("div",{className:n.ranges,children:[s(b,{min:.1,max:3,step:.1,initialValue:i.rate,label:"Rate",name:"rate",isDisabled:o,handleCgange:d=>h(u=>({...u,rate:d}))}),s(b,{min:0,max:2,step:.1,initialValue:i.pitch,label:"Pitch",name:"pitch",isDisabled:o,handleCgange:d=>h(u=>({...u,pitch:d}))})]}),_("div",{className:n.buttons,children:[s("button",{disabled:!e.length||!o,onClick:v,children:"Stop"}),s("button",{disabled:!e.length||o,onClick:S,children:"Speak"})]}),s(E,{textRef:c,name:"text",initialValue:"Hello",isDisabled:o})]})]})})},E=({textRef:c,name:e,rows:g,initialValue:f,onChange:p,isDisabled:i})=>{const[h,o]=r.useState(f),l=t=>{o(t.target.value),p==null||p(t.target.value)};return s("textarea",{ref:c,name:e,rows:g,className:n.textarea,value:h,onChange:l,disabled:i})};export{q as default};
