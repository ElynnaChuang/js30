import{r as y,j as g,a as l}from"./index-669ab746.js";function S(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function A(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function N(t,i,e){return i&&A(t.prototype,i),e&&A(t,e),t}function j(t){return+t.replace(/px/,"")}function x(t){var i=window.devicePixelRatio,e=getComputedStyle(t),n=j(e.getPropertyValue("width")),a=j(e.getPropertyValue("height"));t.setAttribute("width",(n*i).toString()),t.setAttribute("height",(a*i).toString())}function f(t,i){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Math.random()*(i-t)+t;return Math.floor(n*Math.pow(10,e))/Math.pow(10,e)}function T(t){return t[f(0,t.length)]}var L=.00125,q=5e-4,k=9e-4,z=1e-5,B=6,U=80,X=.9,W=1.7,H=.2,V=.6,Y=.03,G=.07,P=15,R=82,$=150,J=100,K=250,Z=40,Q=["#fcf403","#62fc03","#f4fc03","#03e7fc","#03fca5","#a503fc","#fc03ad","#fc03c2"];function b(t){var i=1920;return Math.log(t)/Math.log(i)}var w=function(){function t(i){S(this,t);var e=i.initialPosition,n=i.direction,a=i.confettiRadius,o=i.confettiColors,s=i.emojis,h=i.emojiSize,c=i.canvasWidth,u=f(X,W,3),r=u*b(c);this.confettiSpeed={x:r,y:r},this.finalConfettiSpeedX=f(H,V,3),this.rotationSpeed=s.length?.01:f(Y,G,3)*b(c),this.dragForceCoefficient=f(q,k,6),this.radius={x:a,y:a},this.initialRadius=a,this.rotationAngle=n==="left"?f(0,.2,3):f(-.2,0,3),this.emojiSize=h,this.emojiRotationAngle=f(0,2*Math.PI),this.radiusYUpdateDirection="down";var d=n==="left"?f(R,P)*Math.PI/180:f(-P,-R)*Math.PI/180;this.absCos=Math.abs(Math.cos(d)),this.absSin=Math.abs(Math.sin(d));var m=f(-$,0),p={x:e.x+(n==="left"?-m:m)*this.absCos,y:e.y-m*this.absSin};this.currentPosition=Object.assign({},p),this.initialPosition=Object.assign({},p),this.color=s.length?null:T(o),this.emoji=s.length?T(s):null,this.createdAt=new Date().getTime(),this.direction=n}return N(t,[{key:"draw",value:function(e){var n=this.currentPosition,a=this.radius,o=this.color,s=this.emoji,h=this.rotationAngle,c=this.emojiRotationAngle,u=this.emojiSize,r=window.devicePixelRatio;o?(e.fillStyle=o,e.beginPath(),e.ellipse(n.x*r,n.y*r,a.x*r,a.y*r,h,0,2*Math.PI),e.fill()):s&&(e.font="".concat(u,"px serif"),e.save(),e.translate(r*n.x,r*n.y),e.rotate(c),e.textAlign="center",e.fillText(s,0,0),e.restore())}},{key:"updatePosition",value:function(e,n){var a=this.confettiSpeed,o=this.dragForceCoefficient,s=this.finalConfettiSpeedX,h=this.radiusYUpdateDirection,c=this.rotationSpeed,u=this.createdAt,r=this.direction,d=n-u;if(a.x>s&&(this.confettiSpeed.x-=o*e),this.currentPosition.x+=a.x*(r==="left"?-this.absCos:this.absCos)*e,this.currentPosition.y=this.initialPosition.y-a.y*this.absSin*d+L*Math.pow(d,2)/2,this.rotationSpeed-=this.emoji?1e-4:z*e,this.rotationSpeed<0&&(this.rotationSpeed=0),this.emoji){this.emojiRotationAngle+=this.rotationSpeed*e%(2*Math.PI);return}h==="down"?(this.radius.y-=e*c,this.radius.y<=0&&(this.radius.y=0,this.radiusYUpdateDirection="up")):(this.radius.y+=e*c,this.radius.y>=this.initialRadius&&(this.radius.y=this.initialRadius,this.radiusYUpdateDirection="down"))}},{key:"getIsVisibleOnCanvas",value:function(e){return this.currentPosition.y<e+J}}]),t}();function ee(){var t=document.createElement("canvas");return t.style.position="fixed",t.style.width="100%",t.style.height="100%",t.style.top="0",t.style.left="0",t.style.zIndex="1000",t.style.pointerEvents="none",document.body.appendChild(t),t}function te(t){var i=t.confettiRadius,e=i===void 0?B:i,n=t.confettiNumber,a=n===void 0?t.confettiesNumber||(t.emojis?Z:K):n,o=t.confettiColors,s=o===void 0?Q:o,h=t.emojis,c=h===void 0?t.emojies||[]:h,u=t.emojiSize,r=u===void 0?U:u;return t.emojies&&console.error("emojies argument is deprecated, please use emojis instead"),t.confettiesNumber&&console.error("confettiesNumber argument is deprecated, please use confettiNumber instead"),{confettiRadius:e,confettiNumber:a,confettiColors:s,emojis:c,emojiSize:r}}var ie=function(){function t(i){var e=this;S(this,t),this.canvasContext=i,this.shapes=[],this.promise=new Promise(function(n){return e.resolvePromise=n})}return N(t,[{key:"getBatchCompletePromise",value:function(){return this.promise}},{key:"addShapes",value:function(){var e;(e=this.shapes).push.apply(e,arguments)}},{key:"complete",value:function(){var e;return this.shapes.length?!1:((e=this.resolvePromise)===null||e===void 0||e.call(this),!0)}},{key:"processShapes",value:function(e,n,a){var o=this,s=e.timeDelta,h=e.currentTime;this.shapes=this.shapes.filter(function(c){return c.updatePosition(s,h),c.draw(o.canvasContext),a?c.getIsVisibleOnCanvas(n):!0})}}]),t}(),ne=function(){function t(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};S(this,t),this.activeConfettiBatches=[],this.canvas=i.canvas||ee(),this.canvasContext=this.canvas.getContext("2d"),this.requestAnimationFrameRequested=!1,this.lastUpdated=new Date().getTime(),this.iterationIndex=0,this.loop=this.loop.bind(this),requestAnimationFrame(this.loop)}return N(t,[{key:"loop",value:function(){this.requestAnimationFrameRequested=!1,x(this.canvas);var e=new Date().getTime(),n=e-this.lastUpdated,a=this.canvas.offsetHeight,o=this.iterationIndex%10===0;this.activeConfettiBatches=this.activeConfettiBatches.filter(function(s){return s.processShapes({timeDelta:n,currentTime:e},a,o),o?!s.complete():!0}),this.iterationIndex++,this.queueAnimationFrameIfNeeded(e)}},{key:"queueAnimationFrameIfNeeded",value:function(e){this.requestAnimationFrameRequested||this.activeConfettiBatches.length<1||(this.requestAnimationFrameRequested=!0,this.lastUpdated=e||new Date().getTime(),requestAnimationFrame(this.loop))}},{key:"addConfetti",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=te(e),a=n.confettiRadius,o=n.confettiNumber,s=n.confettiColors,h=n.emojis,c=n.emojiSize,u=this.canvas.getBoundingClientRect(),r=u.width,d=u.height,m=d*5/7,p={x:0,y:m},F={x:r,y:m},C=new ie(this.canvasContext),E=0;E<o/2;E++){var M=new w({initialPosition:p,direction:"right",confettiRadius:a,confettiColors:s,confettiNumber:o,emojis:h,emojiSize:c,canvasWidth:r}),D=new w({initialPosition:F,direction:"left",confettiRadius:a,confettiColors:s,confettiNumber:o,emojis:h,emojiSize:c,canvasWidth:r});C.addShapes(M,D)}return this.activeConfettiBatches.push(C),this.queueAnimationFrameIfNeeded(),C.getBatchCompletePromise()}},{key:"clearCanvas",value:function(){this.activeConfettiBatches=[]}}]),t}();const ae="_page_1jq6d_2",oe="_info_1jq6d_9",se="_canvas_container_1jq6d_72",re="_canvas_1jq6d_72",ce="_canvas_show_1jq6d_84",he="_canvas_hide_1jq6d_88",v={page:ae,info:oe,canvas_container:se,canvas:re,canvas_show:ce,canvas_hide:he},O=[{},{emojis:["ðŸ¦„","ðŸŒˆ"],emojiSize:80,confettiNumber:30},{emojis:["ðŸŒ¸","ðŸŒ¼","ðŸŒº"],confettiNumber:30},{emojis:["ðŸ’¥","âœ¨"],confettiNumber:30},{confettiColors:["#ff780a","#ffc247","#ff8370","#ffce85","#fbe5b1","#f9c7be"]}],I="yay";let _;const fe=()=>{const t=y.useRef(null),i=[],e=a=>{a.stopPropagation();const o=Math.floor(Math.random()*O.length),s=O[o];_.addConfetti(s)},n=a=>{a.stopPropagation();const o=window.location.pathname.split("/");if(o[o.length-1]!=="12")return;const{key:h}=a;i.push(h),i.splice(0,i.length-I.length),i.join("").includes(I)&&e(a)};return y.useEffect(()=>(t.current&&(_=new ne({canvasRef:t})),window.addEventListener("keyup",n),()=>{_&&_.clearCanvas(),window.removeEventListener("keyup",n)}),[]),g("section",{className:v.page,children:[g("div",{className:v.info,children:[l("p",{children:"You can"}),g("div",{children:[l("p",{children:"Enter"}),l("span",{children:I}),l("p",{children:"or Click"}),l("button",{className:v.button,onClick:e,children:"Button"})]}),l("p",{children:"to get happiness!"})]}),l("div",{className:v.canvas_container,children:l("canvas",{ref:t,height:"100%",className:v.canvas})})]})};export{fe as default};
