import{r as G,E as ct,a as C,a5 as ut,j as Y,F as lt}from"./index-c2c878e3.js";import{v as Le}from"./v4-a960c1f4.js";var se={},Ee={},E={};Object.defineProperty(E,"__esModule",{value:!0});E.browserSupportsPolyfills=E.compareTwoStringsUsingDiceCoefficient=E.commandToRegExp=E.concatTranscripts=E.debounce=void 0;var pt=function(e,i,o){var v;return function(){var R=this,u=arguments,b=function(){v=null,o||e.apply(R,u)},d=o&&!v;clearTimeout(v),v=setTimeout(b,i),d&&e.apply(R,u)}};E.debounce=pt;var ft=function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return i.map(function(v){return v.trim()}).join(" ").trim()};E.concatTranscripts=ft;var gt=/\s*\((.*?)\)\s*/g,ht=/(\(\?:[^)]+\))\?/g,dt=/(\(\?)?:\w+/g,vt=/\*/g,mt=/[-{}[\]+?.,\\^$|#]/g,bt=function(e){return e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(mt,"\\$&").replace(gt,"(?:$1)?").replace(dt,function(i,o){return o?i:"([^\\s]+)"}).replace(vt,"(.*?)").replace(ht,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i"))};E.commandToRegExp=bt;var yt=function(e,i){if(e=e.replace(/\s+/g,"").toLowerCase(),i=i.replace(/\s+/g,"").toLowerCase(),!e.length&&!i.length)return 1;if(!e.length||!i.length)return 0;if(e===i)return 1;if(e.length===1&&i.length===1||e.length<2||i.length<2)return 0;for(var o=new Map,v=0;v<e.length-1;v++){var R=e.substring(v,v+2),u=o.has(R)?o.get(R)+1:1;o.set(R,u)}for(var b=0,d=0;d<i.length-1;d++){var O=i.substring(d,d+2),T=o.has(O)?o.get(O):0;T>0&&(o.set(O,T-1),b++)}return 2*b/(e.length+i.length-2)};E.compareTwoStringsUsingDiceCoefficient=yt;var St=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};E.browserSupportsPolyfills=St;var K={},J={};Object.defineProperty(J,"__esModule",{value:!0});J.APPEND_TRANSCRIPT=J.CLEAR_TRANSCRIPT=void 0;var _t="CLEAR_TRANSCRIPT";J.CLEAR_TRANSCRIPT=_t;var Rt="APPEND_TRANSCRIPT";J.APPEND_TRANSCRIPT=Rt;Object.defineProperty(K,"__esModule",{value:!0});K.appendTranscript=K.clearTranscript=void 0;var Oe=J,Tt=function(){return{type:Oe.CLEAR_TRANSCRIPT}};K.clearTranscript=Tt;var wt=function(e,i){return{type:Oe.APPEND_TRANSCRIPT,payload:{interimTranscript:e,finalTranscript:i}}};K.appendTranscript=wt;var ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.transcriptReducer=void 0;var Me=J,Ct=E,At=function(e,i){switch(i.type){case Me.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case Me.APPEND_TRANSCRIPT:return{interimTranscript:i.payload.interimTranscript,finalTranscript:(0,Ct.concatTranscripts)(e.finalTranscript,i.payload.finalTranscript)};default:throw new Error}};ne.transcriptReducer=At;var Ne={},oe={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};a.default=e})(oe);var ce={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.isNative=void 0;var e=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),i=function(R){return R===e};a.isNative=i;var o=e;a.default=o})(ce);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var e=v(oe),i=E,o=ce;function v(h){return h&&h.__esModule?h:{default:h}}function R(h,s,n,r,g,l,f){try{var y=h[l](f),w=y.value}catch(A){n(A);return}y.done?s(w):Promise.resolve(w).then(r,g)}function u(h){return function(){var s=this,n=arguments;return new Promise(function(r,g){var l=h.apply(s,n);function f(w){R(l,r,g,f,y,"next",w)}function y(w){R(l,r,g,f,y,"throw",w)}f(void 0)})}}function b(h,s){if(!(h instanceof s))throw new TypeError("Cannot call a class as a function")}function d(h,s){for(var n=0;n<s.length;n++){var r=s[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(h,r.key,r)}}function O(h,s,n){return s&&d(h.prototype,s),n&&d(h,n),h}var T=function(){function h(s){b(this,h),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(s),(0,e.default)()&&(this.updateFinalTranscript=(0,i.debounce)(this.updateFinalTranscript,250,!0))}return O(h,[{key:"setSpeechRecognition",value:function(n){var r=!!n&&((0,o.isNative)(n)||(0,i.browserSupportsPolyfills)());r&&(this.disableRecognition(),this.recognition=new n,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(r)}},{key:"subscribe",value:function(n,r){this.subscribers[n]=r}},{key:"unsubscribe",value:function(n){delete this.subscribers[n]}},{key:"emitListeningChange",value:function(n){var r=this;this.listening=n,Object.keys(this.subscribers).forEach(function(g){var l=r.subscribers[g].onListeningChange;l(n)})}},{key:"emitMicrophoneAvailabilityChange",value:function(n){var r=this;this.isMicrophoneAvailable=n,Object.keys(this.subscribers).forEach(function(g){var l=r.subscribers[g].onMicrophoneAvailabilityChange;l(n)})}},{key:"emitTranscriptChange",value:function(n,r){var g=this;Object.keys(this.subscribers).forEach(function(l){var f=g.subscribers[l].onTranscriptChange;f(n,r)})}},{key:"emitClearTranscript",value:function(){var n=this;Object.keys(this.subscribers).forEach(function(r){var g=n.subscribers[r].onClearTranscript;g()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(n){var r=this;Object.keys(this.subscribers).forEach(function(g){var l=r.subscribers[g],f=l.onBrowserSupportsSpeechRecognitionChange,y=l.onBrowserSupportsContinuousListeningChange;f(n),y(n)})}},{key:"disconnect",value:function(n){if(this.recognition&&this.listening)switch(n){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(n){n&&n.error&&n.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(n){var r=n.results,g=n.resultIndex,l=g===void 0?r.length-1:g;this.interimTranscript="",this.finalTranscript="";for(var f=l;f<r.length;++f)r[f].isFinal&&(!(0,e.default)()||r[f][0].confidence>0)?this.updateFinalTranscript(r[f][0].transcript):this.interimTranscript=(0,i.concatTranscripts)(this.interimTranscript,r[f][0].transcript);var y=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(y=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,y||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(n){this.finalTranscript=(0,i.concatTranscripts)(this.finalTranscript,n)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var s=u(regeneratorRuntime.mark(function r(){var g,l,f,y,w,A,z=arguments;return regeneratorRuntime.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(g=z.length>0&&z[0]!==void 0?z[0]:{},l=g.continuous,f=l===void 0?!1:l,y=g.language,this.recognition){_.next=3;break}return _.abrupt("return");case 3:if(w=f!==this.recognition.continuous,A=y&&y!==this.recognition.lang,!(w||A)){_.next=11;break}if(!this.listening){_.next=9;break}return _.next=9,this.stopListening();case 9:this.recognition.continuous=w?f:this.recognition.continuous,this.recognition.lang=A?y:this.recognition.lang;case 11:if(this.listening){_.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),_.prev=13,_.next=16,this.start();case 16:this.emitListeningChange(!0),_.next=22;break;case 19:_.prev=19,_.t0=_.catch(13),_.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return _.stop()}},r,this,[[13,19]])}));function n(){return s.apply(this,arguments)}return n}()},{key:"abortListening",value:function(){var s=u(regeneratorRuntime.mark(function r(){var g=this;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),f.next=4,new Promise(function(y){g.onStopListening=y});case 4:case"end":return f.stop()}},r,this)}));function n(){return s.apply(this,arguments)}return n}()},{key:"stopListening",value:function(){var s=u(regeneratorRuntime.mark(function r(){var g=this;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),f.next=4,new Promise(function(y){g.onStopListening=y});case 4:case"end":return f.stop()}},r,this)}));function n(){return s.apply(this,arguments)}return n}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var s=u(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(this.recognition&&!this.listening)){l.next=4;break}return l.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return l.stop()}},r,this)}));function n(){return s.apply(this,arguments)}return n}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),h}();a.default=T})(Ne);(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.useSpeechRecognition=void 0;var e=G,i=E,o=K,v=ne,R=d(Ne),u=d(oe),b=d(ce);function d(t){return t&&t.__esModule?t:{default:t}}function O(t,p,c,m,L,S,M){try{var k=t[S](M),D=k.value}catch(j){c(j);return}k.done?p(D):Promise.resolve(D).then(m,L)}function T(t){return function(){var p=this,c=arguments;return new Promise(function(m,L){var S=t.apply(p,c);function M(D){O(S,m,L,M,k,"next",D)}function k(D){O(S,m,L,M,k,"throw",D)}M(void 0)})}}function h(t){return r(t)||n(t)||y(t)||s()}function s(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function r(t){if(Array.isArray(t))return w(t)}function g(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g=function(c){return typeof c}:g=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},g(t)}function l(t,p){return z(t)||A(t,p)||y(t,p)||f()}function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(t,p){if(t){if(typeof t=="string")return w(t,p);var c=Object.prototype.toString.call(t).slice(8,-1);if(c==="Object"&&t.constructor&&(c=t.constructor.name),c==="Map"||c==="Set")return Array.from(t);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return w(t,p)}}function w(t,p){(p==null||p>t.length)&&(p=t.length);for(var c=0,m=new Array(p);c<p;c++)m[c]=t[c];return m}function A(t,p){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var c=[],m=!0,L=!1,S=void 0;try{for(var M=t[Symbol.iterator](),k;!(m=(k=M.next()).done)&&(c.push(k.value),!(p&&c.length===p));m=!0);}catch(D){L=!0,S=D}finally{try{!m&&M.return!=null&&M.return()}finally{if(L)throw S}}return c}}function z(t){if(Array.isArray(t))return t}var F=!!b.default,_=F&&!(0,u.default)(),W,ze=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=p.transcribing,m=c===void 0?!0:c,L=p.clearTranscriptOnListen,S=L===void 0?!0:L,M=p.commands,k=M===void 0?[]:M,D=(0,e.useState)(x.getRecognitionManager()),j=l(D,1),U=j[0],$e=(0,e.useState)(F),ue=l($e,2),Ie=ue[0],Fe=ue[1],We=(0,e.useState)(_),le=l(We,2),Be=le[0],xe=le[1],je=(0,e.useReducer)(v.transcriptReducer,{interimTranscript:U.interimTranscript,finalTranscript:""}),pe=l(je,2),fe=pe[0],ge=fe.interimTranscript,he=fe.finalTranscript,de=pe[1],Ue=(0,e.useState)(U.listening),ve=l(Ue,2),qe=ve[0],Ge=ve[1],He=(0,e.useState)(U.isMicrophoneAvailable),me=l(He,2),Ye=me[0],Je=me[1],be=(0,e.useRef)(k);be.current=k;var ye=function(){de((0,o.clearTranscript)())},Q=(0,e.useCallback)(function(){U.resetTranscript(),ye()},[U]),Ke=function(P,I,H){var q=g(P)==="object"?P.toString():P,V=q.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),X=(0,i.compareTwoStringsUsingDiceCoefficient)(V,I);return X>=H?{command:P,commandWithoutSpecials:V,howSimilar:X,isFuzzyMatch:!0}:null},Qe=function(P,I){var H=(0,i.commandToRegExp)(P),q=H.exec(I);return q?{command:P,parameters:q.slice(1)}:null},Se=(0,e.useCallback)(function($,P){be.current.forEach(function(I){var H=I.command,q=I.callback,V=I.matchInterim,X=V===void 0?!1:V,Te=I.isFuzzyMatch,we=Te===void 0?!1:Te,Ce=I.fuzzyMatchingThreshold,Xe=Ce===void 0?.8:Ce,Ae=I.bestMatchOnly,Ze=Ae===void 0?!1:Ae,Z=!P&&X?$.trim():P.trim(),et=Array.isArray(H)?H:[H],ee=et.map(function(N){return we?Ke(N,Z,Xe):Qe(N,Z)}).filter(function(N){return N});if(we&&Ze&&ee.length>=2){ee.sort(function(N,ie){return ie.howSimilar-N.howSimilar});var re=ee[0],tt=re.command,nt=re.commandWithoutSpecials,rt=re.howSimilar;q(nt,Z,rt,{command:tt,resetTranscript:Q})}else ee.forEach(function(N){if(N.isFuzzyMatch){var ie=N.command,it=N.commandWithoutSpecials,at=N.howSimilar;q(it,Z,at,{command:ie,resetTranscript:Q})}else{var st=N.command,ot=N.parameters;q.apply(void 0,h(ot).concat([{command:st,resetTranscript:Q}]))}})})},[Q]),_e=(0,e.useCallback)(function($,P){m&&de((0,o.appendTranscript)($,P)),Se($,P)},[Se,m]),Re=(0,e.useCallback)(function(){S&&ye()},[S]);(0,e.useEffect)(function(){var $=x.counter;x.counter+=1;var P={onListeningChange:Ge,onMicrophoneAvailabilityChange:Je,onTranscriptChange:_e,onClearTranscript:Re,onBrowserSupportsSpeechRecognitionChange:Fe,onBrowserSupportsContinuousListeningChange:xe};return U.subscribe($,P),function(){U.unsubscribe($)}},[m,S,U,_e,Re]);var Ve=(0,i.concatTranscripts)(he,ge);return{transcript:Ve,interimTranscript:ge,finalTranscript:he,listening:qe,isMicrophoneAvailable:Ye,resetTranscript:Q,browserSupportsSpeechRecognition:Ie,browserSupportsContinuousListening:Be}};a.useSpeechRecognition=ze;var x={counter:0,applyPolyfill:function(p){W?W.setSpeechRecognition(p):W=new R.default(p);var c=!!p&&(0,i.browserSupportsPolyfills)();F=c,_=c},removePolyfill:function(){W?W.setSpeechRecognition(b.default):W=new R.default(b.default),F=!!b.default,_=F&&!(0,u.default)()},getRecognitionManager:function(){return W||(W=new R.default(b.default)),W},getRecognition:function(){var p=x.getRecognitionManager();return p.getRecognition()},startListening:function(){var t=T(regeneratorRuntime.mark(function c(){var m,L,S,M,k=arguments;return regeneratorRuntime.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return m=k.length>0&&k[0]!==void 0?k[0]:{},L=m.continuous,S=m.language,M=x.getRecognitionManager(),j.next=4,M.startListening({continuous:L,language:S});case 4:case"end":return j.stop()}},c)}));function p(){return t.apply(this,arguments)}return p}(),stopListening:function(){var t=T(regeneratorRuntime.mark(function c(){var m;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m=x.getRecognitionManager(),S.next=3,m.stopListening();case 3:case"end":return S.stop()}},c)}));function p(){return t.apply(this,arguments)}return p}(),abortListening:function(){var t=T(regeneratorRuntime.mark(function c(){var m;return regeneratorRuntime.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m=x.getRecognitionManager(),S.next=3,m.abortListening();case 3:case"end":return S.stop()}},c)}));function p(){return t.apply(this,arguments)}return p}(),browserSupportsSpeechRecognition:function(){return F},browserSupportsContinuousListening:function(){return _}},De=x;a.default=De})(Ee);(function(a){function e(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(d){return typeof d}:e=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},e(u)}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"useSpeechRecognition",{enumerable:!0,get:function(){return i.useSpeechRecognition}}),a.default=void 0;var i=v(Ee);function o(){if(typeof WeakMap!="function")return null;var u=new WeakMap;return o=function(){return u},u}function v(u){if(u&&u.__esModule)return u;if(u===null||e(u)!=="object"&&typeof u!="function")return{default:u};var b=o();if(b&&b.has(u))return b.get(u);var d={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var T in u)if(Object.prototype.hasOwnProperty.call(u,T)){var h=O?Object.getOwnPropertyDescriptor(u,T):null;h&&(h.get||h.set)?Object.defineProperty(d,T,h):d[T]=u[T]}return d.default=u,b&&b.set(u,d),d}var R=i.default;a.default=R})(se);const ke=ct(se),Lt="_page_4uz0g_1",Mt="_container_4uz0g_8",kt="_controls_4uz0g_17",Pt="_controls_status_4uz0g_25",Et="_controls_buttons_4uz0g_49",Ot="_words_container_4uz0g_56",Nt="_words_4uz0g_56",zt="_default_text_4uz0g_74",Dt="_snack_4uz0g_78",B={page:Lt,container:Mt,controls:kt,controls_status:Pt,controls_buttons:Et,words_container:Ot,words:Nt,default_text:zt,snack:Dt},$t="_success_btn_1265h_1",It="_danger_btn_1265h_1",Ft="_default_btn_1265h_1",Wt="_active_1265h_30",Bt="_select_1265h_38",ae={success_btn:$t,danger_btn:It,default_btn:Ft,active:Wt,select:Bt},te=({text:a,btnStyle:e,isActive:i,onClick:o})=>{const v=`${ae[e]} ${i?ae.active:""}`;return C("button",{className:v,type:"button",onClick:()=>o==null?void 0:o(),children:a})},xt=({onChange:a,isDisable:e,options:i})=>C("select",{name:"language",id:"language",className:ae.select,onChange:o=>a==null?void 0:a(o.target.value),disabled:e,children:i.map(({value:o,name:v})=>C("option",{value:o,children:v},o))}),Pe=[{value:"en-US",name:"English(US)"},{value:"zh-CN",name:"中文"},{value:"ja",name:"日本語"}],qt=()=>{const a=G.useRef([]),e=G.useRef(null),[i,o]=G.useState([]),[v,R]=G.useState(!1),[u,b]=G.useState(!1),[d,O]=G.useState(Pe[0].value),{enqueueSnackbar:T}=ut(),{resetTranscript:h,listening:s,finalTranscript:n,interimTranscript:r,browserSupportsSpeechRecognition:g}=se.useSpeechRecognition();if(!g)return console.error("Your browser does not support speech recognition software! Try Chrome desktop, maybe?"),C("p",{children:"Your browser does not support speech recognition software! Try Chrome desktop, maybe?"});const l=()=>{R(!0),ke.startListening({continuous:!0,language:d})},f=()=>{R(!1),ke.stopListening()},y=()=>{o([]),h(),b(!1)},w=()=>{const A=i.map(z=>z.text).join(`
`);navigator.clipboard.writeText(A),T("Copied!",{className:B.snack,autoHideDuration:2e3,anchorOrigin:{horizontal:"right",vertical:"bottom"},variant:"success"})};return G.useEffect(()=>{if((r||n)&&b(!0),r){a.current.push(r);const{scrollHeight:A}=e.current;e.current.scrollTop=A}if(!r){const A=a.current.length-1,z=a.current[A];if(!z)return;o(F=>[...F,{id:Le(),text:z}]),a.current=[]}},[r]),C("section",{className:B.page,children:Y("div",{className:B.container,children:[Y("div",{className:B.controls,children:[Y("div",{className:B.controls_status,children:[Y("p",{children:["Microphone",C("span",{children:s?"on":"off"})]}),Y("p",{children:["Language",C(xt,{onChange:O,isDisable:v,options:Pe})]})]}),Y("div",{className:B.controls_buttons,children:[C(te,{btnStyle:"default_btn",text:"Start",isActive:v,onClick:l}),C(te,{btnStyle:"default_btn",text:"Stop",isActive:!v,onClick:f}),C(te,{btnStyle:"success_btn",text:"Copy",onClick:w}),C(te,{btnStyle:"danger_btn",text:"Reset",onClick:y})]})]}),C("div",{className:B.words_container,ref:e,children:C("div",{className:B.words,children:u?Y(lt,{children:[i.map(({id:A,text:z})=>C("p",{children:z},A)),C("p",{children:r},Le())]}):C("p",{className:B.default_text,children:"尚無內容"})})})]})})};export{qt as default};
